buildscript {
    repositories {
        jcenter()
    }

    dependencies {
        classpath 'com.netflix.nebula:gradle-ospackage-plugin:4.4.0'
        classpath 'com.jfrog.bintray.gradle:gradle-bintray-plugin:1.8.0'
    }
}

apply plugin: 'groovy'
apply plugin: 'nebula.ospackage'

import org.rundeck.gradle.PackageTask

def pTask = task packageRundeck(type: PackageTask) {
    artifactPath = "$projectDir/artifacts/rundeck.war"
    packageVersion = '1.1.1'
    packageRelease = '1'
    packageName = 'rundeck'
    packageDescription = 'Rundeck!!!!'
    libDir = "$projectDir/packaging/lib"
}


task packageArtifacts {
    dependsOn packageRundeck
}

pTask.getOutputs().each { it.getFiles().each {
    println it
}}